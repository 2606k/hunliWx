<!--pages/index/index.wxml-->
<view class="container">
  <!-- èƒŒæ™¯éŸ³ä¹ç»„ä»¶ -->
  <bgm></bgm>
  <!-- <view class="backImg">
    <image src="http://124.222.172.221:9000/marry/indexPhoto.jpg"></image>
  </view> -->
  <!-- è£…é¥°å…ƒç´  -->
  <view class="decoration-hearts">
    <text class="heart">ğŸ’–</text>
    <text class="heart">ğŸ’•</text>
    <text class="heart">ğŸ’—</text>
    <text class="heart">ğŸ’</text>
    <text class="heart">ğŸ’–</text>
  </view>

  <!-- ä¸»è¦å†…å®¹ -->
  <view class="main-content">
    <!-- æ–°äººä¿¡æ¯ -->
    <view class="couple-info">
      <view class="names">
        <text class="name">{{weddingInfo.brideName}}</text>
        <text class="and">&</text>
        <text class="name">{{weddingInfo.groomName}}</text>
      </view>
      <view class="wedding-date">{{formattedDate}}</view>
      <view class="location">{{weddingInfo.weddingLocation}}</view>
    </view>

    <!-- å€’è®¡æ—¶åŒºåŸŸ - å¯¹æ‰€æœ‰ç”¨æˆ·æ˜¾ç¤º -->
    <view class="countdown-section">
      <view class="countdown-title">è·ç¦»å©šç¤¼è¿˜æœ‰</view>
      <view class="countdown-time">
        <view class="time-item">
          <text class="time-number">{{countdown.days || 0}}</text>
          <text class="time-label">å¤©</text>
        </view>
        <view class="time-item">
          <text class="time-number">{{countdown.hours || 0}}</text>
          <text class="time-label">æ—¶</text>
        </view>
        <view class="time-item">
          <text class="time-number">{{countdown.minutes || 0}}</text>
          <text class="time-label">åˆ†</text>
        </view>
        <view class="time-item">
          <text class="time-number">{{countdown.seconds || 0}}</text>
          <text class="time-label">ç§’</text>
        </view>
      </view>
    </view>

    <!-- ç”¨æˆ·æˆæƒåŒºåŸŸ -->
    <view class="auth-section" wx:if="{{!hasUserInfo}}">
      <view class="auth-card">
        <view class="auth-icon">ğŸ‘¤</view>
        <view class="auth-title">æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„å©šç¤¼</view>
        <view class="auth-desc">è¯·æˆæƒè·å–æ‚¨çš„ä¿¡æ¯ï¼Œä»¥ä¾¿ä¸ºæ‚¨æä¾›æ›´å¥½çš„æœåŠ¡</view>
        <button class="btn-auth" bindtap="getUserProfile">
          <text class="auth-btn-text">æˆæƒç™»å½•</text>
        </button>
        <view class="auth-tips">æˆæƒåå¯äº«å—å®Œæ•´åŠŸèƒ½</view>
      </view>
    </view>

    <!-- å·²æˆæƒç”¨æˆ·åŠŸèƒ½åŒºåŸŸ -->
    <view class="feature-section" wx:if="{{hasUserInfo}}">
      <!-- æ ¸å¿ƒåŠŸèƒ½ -->
      <view class="core-features">
        <view class="feature-item" bindtap="goToMessage">
          <view class="feature-icon">ğŸ’</view>
          <view class="feature-content">
            <view class="feature-title">ç•™è¨€ç¥ç¦</view>
            <view class="feature-desc">ä¸ºæ–°äººé€ä¸Šæ‚¨çš„ç¥ç¦</view>
          </view>
          <view class="feature-arrow">></view>
        </view>
        
        <view class="feature-item" bindtap="goToPhoto">
          <view class="feature-icon">ğŸ“¸</view>
          <view class="feature-content">
            <view class="feature-title">ç›¸å†Œæµè§ˆ</view>
            <view class="feature-desc">æŸ¥çœ‹å©šç¤¼ç²¾å½©ç¬é—´</view>
          </view>
          <view class="feature-arrow">></view>
        </view>
      </view>

      <!-- ç”¨æˆ·ä¿¡æ¯å±•ç¤º -->
      <view class="user-info-section">
        <view class="user-avatar">
          <image src="{{userInfo.avatarUrl}}" mode="aspectFill" class="avatar-image"></image>
        </view>
        <view class="user-details">
          <view class="user-name">{{userInfo.nickName}}</view>
          <view class="user-status">å·²æˆæƒ Â· æ¬¢è¿æ‚¨</view>
        </view>
      </view>
    </view>
  </view>
</view> 